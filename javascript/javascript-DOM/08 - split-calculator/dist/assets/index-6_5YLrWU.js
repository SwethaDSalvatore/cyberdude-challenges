(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const h="https://api.exchangerate-api.com/v4/latest/[base]";document.getElementById("convert");const L=document.getElementById("perPerson"),y=document.querySelector("#to"),D=document.querySelector("#from"),b=document.querySelector("#billAmt"),E=document.getElementById("members"),I=document.getElementById("finalAmount"),N=document.getElementById("CurrencyValue"),f=document.getElementById("inputContainer"),A=document.querySelector("#billName"),B=document.querySelector("#form"),c=document.getElementById("splitListCard");c.style.display="none";const O=document.getElementById("addNameButton"),S=[];O.addEventListener("click",s=>{s.preventDefault();const n=E.value;f.innerHTML="";for(let t=0;t<n;t++){const r=document.createElement("input");r.type="text",r.id=`${t+1}`,r.classList="w-full mb-2 px-3 py-2 focus:outline-none focus:border-yellow-700 rounded",r.name=`name${t+1}`,r.placeholder=`Name ${t+1}`,f.appendChild(r),r.addEventListener("input",e=>{S[t]=e.target.value})}});L.addEventListener("click",async s=>{s.preventDefault();const n=D.value,t=y.value,r=h.replace("[base]",n),e=b.value,o=E.value;async function a(){try{return await(await fetch(r)).json()}catch(p){console.error("Network error: ",p)}}const m=((await a()).rates[t]*e/o).toFixed(2);I.innerHTML=m,N.innerHTML=`${t}/per share`;const x=S.join(", "),d={billName:A.value,membersName:x,totalAmount:b.value,perShareAmt:m,toCurrecy:y.value},u=[],v=localStorage.getItem("splitData"),l=JSON.parse(v);l?(l.push(d),localStorage.setItem("splitData",JSON.stringify(l))):(u.push(d),localStorage.setItem("splitData",JSON.stringify(u))),i(),B.reset()});const g=document.getElementById("splitListTable");g.addEventListener("click",function(s){if(alert("Are you sure about deleting this data..!"),s.target.classList.contains("deleteBtn")){const n=s.target.closest("tr"),t=Array.from(g.children).indexOf(n),r=localStorage.getItem("splitData"),e=JSON.parse(r);e.splice(t,1),localStorage.setItem("splitData",JSON.stringify(e)),i()}});function i(){const s=localStorage.getItem("splitData"),n=JSON.parse(s);if(n&&n.length>0){c.style.display="block";const t=document.getElementById("splitListTable");t.innerHTML="";const r=n.map((e,o)=>`
        <tr>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${o+1}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.billName}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.membersName}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.totalAmount}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.perShareAmt}. ${e.toCurrecy}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">                 
                  <button type="submit" class=" deleteBtn px-1 py-1 rounded bg-red-500 hover:bg-rose-500 text-yellow-100 font-bold">
                  Delete
                  </button>
                  </td>
                </tr>                  
        `).join(" ");t.innerHTML+=r}else localStorage.removeItem("splitData"),c.style.display="none",console.log(" Task not created Yet ..!")}i();

(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}})();const h="https://api.exchangerate-api.com/v4/latest/[base]";document.getElementById("convert");const L=document.getElementById("perPerson"),b=document.querySelector("#to"),D=document.querySelector("#from"),f=document.querySelector("#billAmt"),E=document.getElementById("members"),I=document.getElementById("finalAmount"),N=document.getElementById("CurrencyValue"),c=document.getElementById("inputContainer"),A=document.querySelector("#billName"),B=document.querySelector("#form"),i=document.getElementById("splitListCard");i.style.display="none";const O=document.getElementById("addNameButton"),S=[];O.addEventListener("click",s=>{s.preventDefault();const o=E.value;c.innerHTML="";for(let t=0;t<o;t++){const r=document.createElement("input");r.type="text",r.id=`${t+1}`,r.classList="w-full mb-2 px-3 py-2 focus:outline-none focus:border-yellow-700 rounded",r.name=`name${t+1}`,r.placeholder=`Name ${t+1}`,c.appendChild(r),r.addEventListener("input",e=>{S[t]=e.target.value})}});L.addEventListener("click",async s=>{s.preventDefault();const o=D.value,t=b.value,r=h.replace("[base]",o),e=f.value,n=E.value;async function l(){try{return await(await fetch(r)).json()}catch(y){console.error("Network error: ",y)}}const d=((await l()).rates[t]*e/n).toFixed(2);I.innerHTML=d,N.innerHTML=`${t}/per share`;const x=S.join(", "),u={billName:A.value,membersName:x,totalAmount:f.value,perShareAmt:d,toCurrecy:b.value},p=[],v=localStorage.getItem("splitData"),a=JSON.parse(v);a?(a.push(u),localStorage.setItem("splitData",JSON.stringify(a))):(p.push(u),localStorage.setItem("splitData",JSON.stringify(p))),m(),c.style.display="none",B.reset()});const g=document.getElementById("splitListTable");g.addEventListener("click",function(s){if(alert("Are you sure about deleting this data..!"),s.target.classList.contains("deleteBtn")){const o=s.target.closest("tr"),t=Array.from(g.children).indexOf(o),r=localStorage.getItem("splitData"),e=JSON.parse(r);e.splice(t,1),localStorage.setItem("splitData",JSON.stringify(e)),m()}});function m(){const s=localStorage.getItem("splitData"),o=JSON.parse(s);if(o&&o.length>0){i.style.display="block";const t=document.getElementById("splitListTable");t.innerHTML="";const r=o.map((e,n)=>`
        <tr>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${n+1}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.billName}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.membersName}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.totalAmount}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">${e.perShareAmt}. ${e.toCurrecy}</td>
                  <td class="sm:py-2 sm:px-4 px-1 py-1 bg-amber-200 border border-amber-700">                 
                  <button type="submit" class=" deleteBtn px-1 py-1 rounded bg-red-500 hover:bg-rose-500 text-yellow-100 font-bold">
                  Delete
                  </button>
                  </td>
                </tr>                  
        `).join(" ");t.innerHTML+=r}else localStorage.removeItem("splitData"),i.style.display="none",console.log(" Task not created Yet ..!")}m();
